

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.2. 子区域成像实验 &mdash; A tutorial on Artificial Intelligence 0.1 文档</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon1.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/proof.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/katex-math.css" type="text/css" />
  

  
        <link rel="index" title="索引"
              href="../../../genindex.html"/>
        <link rel="search" title="搜索" href="../../../search.html"/>
    <link rel="top" title="A tutorial on Artificial Intelligence 0.1 文档" href="../../../index.html"/>
        <link rel="up" title="9. 实验集锦" href="index.html"/>
        <link rel="next" title="10. 参考文献" href="../zreference.html"/>
        <link rel="prev" title="9.1. 基础分析实验" href="BasicExperiments.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> A tutorial on Artificial Intelligence
          

          
            
            <img src="../../../_static/logo1.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Introduction/intro.html">引言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BasisMath/index.html">第一卷 数学基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../BasisPhysics/index.html">第二卷 经典物理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ModernPhysics/index.html">第三卷 现代物理学</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ComputerScience/index.html">第四卷 计算机学</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../SignalProcessing/index.html">第五卷 信号处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ArtificialIntelligence/index.html">第六卷 人工智能</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">第七卷 雷达信号处理</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../intro.html">引言</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../EmitterSignalAnalysis/index.html">辐射源信号分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../PulseRadar/index.html">脉冲雷达</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ContinuousWaveRadar/index.html">连续波雷达</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">合成孔径雷达</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Introduction.html">1. 合成孔径雷达简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SystemOverview/index.html">2. SAR系统概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Simulation/index.html">3. SAR仿真技术</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Imaging/index.html">4. SAR成像理论</a></li>
<li class="toctree-l3"><a class="reference internal" href="../HighresolutionImaging/index.html">5. SAR高分辨成像</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SuperresolutionImaging/index.html">6. SAR超分辨成像</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DeepLearningImaging/index.html">7. 深度学习与SAR成像</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ImageSuperresolution/index.html">8. SAR图像超分辨</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">9. 实验集锦</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="BasicExperiments.html">9.1. 基础分析实验</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">9.2. 子区域成像实验</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../zreference.html">10. 参考文献</a></li>
<li class="toctree-l3"><a class="reference internal" href="../glossary.html">11. 名词术语</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../POLSAR/index.html">极化合成孔径雷达</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SharingTechnology/index.html">共用技术</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Supplement/index.html">补充内容</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glossary.html">名词术语</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Medical/index.html">第八卷 医学信号处理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Astronomy/index.html">第九卷 天文学</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Application/index.html">第十卷 应用实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Supplement/index.html">第十一卷 补充内容</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/glossary.html">名词术语</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">A tutorial on Artificial Intelligence</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">第七卷 雷达信号处理</a> &raquo;</li>
        
          <li><a href="../index.html">合成孔径雷达</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">9. </span>实验集锦</a> &raquo;</li>
        
      <li><span class="section-number">9.2. </span>子区域成像实验</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sectionsubregionimagingexperimentssarradar">
<span id="id1"></span><h1><span class="section-number">9.2. </span>子区域成像实验<a class="headerlink" href="#sectionsubregionimagingexperimentssarradar" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2><span class="section-number">9.2.1. </span>实验说明<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>从原始较大场景数据中, 选择不同大小的场景区域数据进行成像, 成像方法为调频变标算法(CSA). 一种方法是将选取子区域外的数据置零后成像, 另一种是仅用选取的子区域大小数据成像.</p>
</div>
<div class="section" id="id3">
<h2><span class="section-number">9.2.2. </span>仿真数据实验<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<div class="section" id="id4">
<h3>点目标数据实验<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<div class="section" id="id5">
<h4>实验代码<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h4>
</div>
<div class="section" id="id6">
<h4>实验结果<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="id7">
<h2><span class="section-number">9.2.3. </span>真实数据实验<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<div class="section" id="radarsat1">
<h3>RADARSAT1数据实验<a class="headerlink" href="#radarsat1" title="永久链接至标题">¶</a></h3>
<p>实验中所用数据为 RADARSAT1 卫星获得的数据, 成像区域为史丹利公园 (Stanley Park), 有关RADARSAT1的参数信息, 可参考 <a class="reference internal" href="../../Supplement/RadarProducts/RADARSAT.html#section-radarsatradarproductsupplementradar"><span class="std std-ref">RADARSAT 产品介绍</span></a> 小节.</p>
<div class="figure align-center" id="id10">
<a class="reference internal image-reference" href="../../../_images/RADARSAT1_StanleyPark.svg"><img alt="../../../_images/RADARSAT1_StanleyPark.svg" height="8512.0" src="../../../_images/RADARSAT1_StanleyPark.svg" width="5811.200000000001" /></a>
<p class="caption"><span class="caption-number">图 9.18 </span><span class="caption-text">Stanley Park 区域原始数据幅度与成像结果</span><a class="headerlink" href="#id10" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id11">
<a class="reference internal image-reference" href="../../../_images/RADARSAT1_StanleyPark_SubRegion.svg"><img alt="../../../_images/RADARSAT1_StanleyPark_SubRegion.svg" height="7232.0" src="../../../_images/RADARSAT1_StanleyPark_SubRegion.svg" width="7168.0" /></a>
<p class="caption"><span class="caption-number">图 9.19 </span><span class="caption-text">对成像后的Stanley Park地区影像, 选取场景中心附近不同大小的区域可视化结果.</span><a class="headerlink" href="#id11" title="永久链接至图片">¶</a></p>
</div>
<div class="section" id="id8">
<h4>实验代码<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h4>
<div class="literal-block-wrapper docutils container" id="bind-id">
<div class="code-block-caption"><span class="caption-number">代码 9.1 </span><span class="caption-text">demo_RADARSAT1_SubRegion.py</span><a class="headerlink" href="#bind-id" title="永久链接至代码">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  0
  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183</pre></div></td><td class="code"><div class="highlight"><pre><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># @Date    : 2019-02-18 10:14:12</span>
<span class="c1"># @Author  : Yan Liu &amp; Zhi Liu (zhiliu.mind@gmail.com)</span>
<span class="c1"># @Link    : http://iridescent.ink</span>
<span class="c1"># @Version : $1.0$</span>

<span class="kn">import</span> <span class="nn">iprs</span>
<span class="hll"><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</span><span class="kn">import</span> <span class="nn">scipy.io</span> <span class="kn">as</span> <span class="nn">scio</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">imagingMethod</span> <span class="o">=</span> <span class="s1">&#39;RDA&#39;</span>
<span class="c1"># imagingMethod = &#39;OmegaK&#39;</span>
<span class="n">imagingMethod</span> <span class="o">=</span> <span class="s1">&#39;CSA&#39;</span>

<span class="n">zpadar</span> <span class="o">=</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>
<span class="c1"># zpadar = False</span>
<span class="c1"># zpadar = None</span>
<span class="n">usesrc</span> <span class="o">=</span> <span class="bp">True</span>
<span class="c1"># usesrc = False</span>
<span class="n">usedpc</span> <span class="o">=</span> <span class="bp">True</span>
<span class="c1"># usedpc = False</span>
<span class="n">rcmc</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">rcmc</span> <span class="o">=</span> <span class="mi">32</span>

<span class="n">fulltime</span> <span class="o">=</span> <span class="bp">False</span>
<span class="c1"># fulltime = True</span>

<span class="n">usemask</span> <span class="o">=</span> <span class="bp">False</span>
<span class="c1"># usemask = True</span>

<span class="n">sensor_name</span> <span class="o">=</span> <span class="s1">&#39;RADARSAT1&#39;</span>
<span class="n">acquis_name</span> <span class="o">=</span> <span class="s1">&#39;RADARSAT1&#39;</span>

<span class="n">sarplat</span> <span class="o">=</span> <span class="n">iprs</span><span class="o">.</span><span class="n">SarPlat</span><span class="p">()</span>
<span class="n">sarplat</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;sensor=&quot;</span> <span class="o">+</span> <span class="n">sensor_name</span> <span class="o">+</span> <span class="s2">&quot;_acquisition=&quot;</span> <span class="o">+</span> <span class="n">acquis_name</span>
<span class="n">sarplat</span><span class="o">.</span><span class="n">sensor</span> <span class="o">=</span> <span class="n">iprs</span><span class="o">.</span><span class="n">SENSORS</span><span class="p">[</span><span class="n">sensor_name</span><span class="p">]</span>
<span class="n">sarplat</span><span class="o">.</span><span class="n">acquisition</span> <span class="o">=</span> <span class="n">iprs</span><span class="o">.</span><span class="n">ACQUISITION</span><span class="p">[</span><span class="n">acquis_name</span><span class="p">]</span>
<span class="n">sarplat</span><span class="o">.</span><span class="n">params</span> <span class="o">=</span> <span class="bp">None</span>


<span class="n">ROI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;SubSceneArea&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>  <span class="c1"># SceneArea</span>
    <span class="c1"># &#39;SubSceneArea&#39;: [0.5, 0.5, 0.5, 0.5],  # SceneArea/2.0</span>
    <span class="c1"># &#39;SubEchoSize&#39;: None,  # EchoSize</span>
    <span class="s1">&#39;SubEchoSize&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span>
    <span class="c1"># &#39;SubEchoSize&#39;: [1. / 3, 1. / 4],</span>
    <span class="c1"># &#39;SubEchoSize&#39;: [1. / 6, 1. / 8],</span>
    <span class="s1">&#39;SubEchoSize&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.</span> <span class="o">/</span> <span class="mi">12</span><span class="p">,</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">16</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">sarplat</span><span class="o">.</span><span class="n">selection</span> <span class="o">=</span> <span class="n">ROI</span>
<span class="n">ROIY</span> <span class="o">=</span> <span class="n">sarplat</span><span class="o">.</span><span class="n">selection</span><span class="p">[</span><span class="s1">&#39;SubEchoSize&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ROIX</span> <span class="o">=</span> <span class="n">sarplat</span><span class="o">.</span><span class="n">selection</span><span class="p">[</span><span class="s1">&#39;SubEchoSize&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># sarplat.selection = None</span>
<span class="n">NstartX</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sarplat</span><span class="o">.</span><span class="n">acquisition</span><span class="p">[</span><span class="s1">&#39;EchoSize&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">-</span> <span class="n">ROIX</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>
<span class="n">NstartY</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sarplat</span><span class="o">.</span><span class="n">acquisition</span><span class="p">[</span><span class="s1">&#39;EchoSize&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.</span> <span class="o">-</span> <span class="n">ROIY</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span>


<span class="k">if</span> <span class="n">fulltime</span><span class="p">:</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">sarplat</span><span class="o">.</span><span class="n">acquisition</span><span class="p">[</span><span class="s1">&#39;EchoSize&#39;</span><span class="p">])</span>
    <span class="n">sarplat</span><span class="o">.</span><span class="n">selection</span> <span class="o">=</span> <span class="bp">None</span>

<span class="n">sarplat</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
<span class="n">sarplat</span><span class="o">.</span><span class="n">printsp</span><span class="p">()</span>

<span class="n">SA</span> <span class="o">=</span> <span class="n">sarplat</span><span class="o">.</span><span class="n">selection</span><span class="p">[</span><span class="s1">&#39;SubSceneArea&#39;</span><span class="p">]</span>

<span class="n">disk</span> <span class="o">=</span> <span class="s1">&#39;/mnt/d/&#39;</span>
<span class="c1"># disk = &#39;D:/&#39;</span>
<span class="c1"># datafile = disk + &#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1.mat&#39;</span>
<span class="c1"># datafile = disk + &#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1_Squamish.mat&#39;</span>
<span class="c1"># datafile = disk + &#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1_VancouverAirport.mat&#39;</span>
<span class="c1"># datafile = disk + &#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1_Brackendale.mat&#39;</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">disk</span> <span class="o">+</span> <span class="s1">&#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1_EnglishBayShips.mat&#39;</span>
<span class="n">datafile</span> <span class="o">=</span> <span class="n">disk</span> <span class="o">+</span> <span class="s1">&#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1_StanleyPark.mat&#39;</span>
<span class="c1"># datafile = disk + &#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock1_UBC.mat&#39;</span>
<span class="c1"># datafile = disk + &#39;DataSets/sar/RADARSAT/frombooks/mat/sardataRADARSAT1scene01AzimuthBlock2_River.mat&#39;</span>


<span class="n">data</span> <span class="o">=</span> <span class="n">scio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">struct_as_record</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">temp</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sardata&#39;</span><span class="p">]</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="s1">&#39;rawdata&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="n">NendY</span> <span class="o">=</span> <span class="n">NstartY</span> <span class="o">+</span> <span class="n">ROIY</span>
<span class="n">NendX</span> <span class="o">=</span> <span class="n">NstartX</span> <span class="o">+</span> <span class="n">ROIX</span>

<span class="k">if</span> <span class="n">fulltime</span><span class="p">:</span>
    <span class="n">Sr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
    <span class="n">Sr</span><span class="p">[</span><span class="n">NstartY</span><span class="p">:</span><span class="n">NendY</span><span class="p">,</span> <span class="n">NstartX</span><span class="p">:</span><span class="n">NendX</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">NstartY</span><span class="p">:</span><span class="n">NendY</span><span class="p">,</span> <span class="n">NstartX</span><span class="p">:</span><span class="n">NendX</span><span class="p">]</span>
    <span class="n">mask</span><span class="p">[</span><span class="n">NstartY</span><span class="p">:</span><span class="n">NendY</span><span class="p">,</span> <span class="n">NstartX</span><span class="p">:</span><span class="n">NendX</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">Sr</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">NstartY</span><span class="p">:</span><span class="n">NendY</span><span class="p">,</span> <span class="n">NstartX</span><span class="p">:</span><span class="n">NendX</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="n">NstartY</span><span class="p">,</span> <span class="n">NstartX</span><span class="p">,</span> <span class="n">NendY</span><span class="p">,</span> <span class="n">NendX</span><span class="p">)</span>

<span class="n">Na</span><span class="p">,</span> <span class="n">Nr</span> <span class="o">=</span> <span class="n">Sr</span><span class="o">.</span><span class="n">shape</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;SAR raw data: &quot;</span><span class="p">,</span> <span class="n">Sr</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">Sr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>


<span class="k">if</span> <span class="n">imagingMethod</span> <span class="ow">is</span> <span class="s1">&#39;RDA&#39;</span><span class="p">:</span>
    <span class="c1"># SI, _, _ = iprs.rda(Sr, sarplat, verbose=True)</span>
    <span class="n">SI</span> <span class="o">=</span> <span class="n">iprs</span><span class="o">.</span><span class="n">rda_adv</span><span class="p">(</span><span class="n">Sr</span><span class="p">,</span> <span class="n">sarplat</span><span class="p">,</span> <span class="n">zpadar</span><span class="o">=</span><span class="n">zpadar</span><span class="p">,</span>
                      <span class="n">usesrc</span><span class="o">=</span><span class="n">usesrc</span><span class="p">,</span> <span class="n">usedpc</span><span class="o">=</span><span class="n">usedpc</span><span class="p">,</span> <span class="n">rcmc</span><span class="o">=</span><span class="n">rcmc</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">if</span> <span class="n">imagingMethod</span> <span class="ow">is</span> <span class="s1">&#39;CSA&#39;</span><span class="p">:</span>
    <span class="c1"># SI = iprs.csa(Sr, sarplat, verbose=True)</span>
    <span class="n">SI</span> <span class="o">=</span> <span class="n">iprs</span><span class="o">.</span><span class="n">csa_adv</span><span class="p">(</span><span class="n">Sr</span><span class="p">,</span> <span class="n">sarplat</span><span class="p">,</span> <span class="n">zpadar</span><span class="o">=</span><span class="n">zpadar</span><span class="p">,</span>
                      <span class="n">usesrc</span><span class="o">=</span><span class="n">usesrc</span><span class="p">,</span> <span class="n">rcmc</span><span class="o">=</span><span class="n">rcmc</span><span class="p">,</span> <span class="n">usedpc</span><span class="o">=</span><span class="n">usedpc</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">SI</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">SI</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SI&#39;</span><span class="p">:</span> <span class="n">SI</span><span class="p">}</span>
<span class="n">scio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="s1">&#39;./SI.mat&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">SI</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">SI</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

<span class="n">SI</span> <span class="o">=</span> <span class="n">SI</span> <span class="o">/</span> <span class="n">SI</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">SI</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">SI</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="n">SI</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">SI</span> <span class="o">+</span> <span class="n">iprs</span><span class="o">.</span><span class="n">EPS</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">SI</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">SI</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="c1"># a = np.abs(SI.mean())</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">SI</span> <span class="o">=</span> <span class="p">(</span><span class="n">SI</span> <span class="o">+</span> <span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="n">a</span> <span class="o">*</span> <span class="mi">255</span>
<span class="k">print</span><span class="p">(</span><span class="n">SI</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">SI</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="c1"># SI = exposure.adjust_log(SI + iprs.EPS)</span>
<span class="c1"># SI = SI * 255</span>
<span class="c1"># SI = exposure.adjust_log(SI)</span>
<span class="n">SI</span><span class="p">[</span><span class="n">SI</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">SI</span> <span class="o">=</span> <span class="n">SI</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;uint8&#39;</span><span class="p">)</span>
<span class="n">SI</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flipud</span><span class="p">(</span><span class="n">SI</span><span class="p">)</span>

<span class="k">if</span> <span class="n">fulltime</span> <span class="ow">and</span> <span class="n">usemask</span><span class="p">:</span>
    <span class="n">SI</span> <span class="o">=</span> <span class="n">SI</span> <span class="o">*</span> <span class="n">mask</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;SI.shape: &quot;</span><span class="p">,</span> <span class="n">SI</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">Title</span> <span class="o">=</span> <span class="s1">&#39;Imaging result of RDA(&#39;</span>

<span class="n">Title</span> <span class="o">=</span> <span class="s1">&#39;Imaging Result of &#39;</span> <span class="o">+</span> <span class="n">imagingMethod</span>


<span class="k">if</span> <span class="n">usesrc</span> <span class="ow">or</span> <span class="n">rcmc</span><span class="p">:</span>
    <span class="n">Title</span> <span class="o">=</span> <span class="n">Title</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> (&#39;</span>
    <span class="k">if</span> <span class="n">usesrc</span><span class="p">:</span>
        <span class="n">Title</span> <span class="o">=</span> <span class="n">Title</span> <span class="o">+</span> <span class="s1">&#39;SRC+&#39;</span>
    <span class="k">if</span> <span class="n">rcmc</span><span class="p">:</span>
        <span class="n">Title</span> <span class="o">=</span> <span class="n">Title</span> <span class="o">+</span> <span class="s1">&#39;RCMC+&#39;</span>
<span class="k">if</span> <span class="n">usedpc</span><span class="p">:</span>
    <span class="n">Title</span> <span class="o">=</span> <span class="n">Title</span> <span class="o">+</span> <span class="s1">&#39;DPC&#39;</span>

<span class="n">Title</span> <span class="o">=</span> <span class="n">Title</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>


<span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;gray&#39;</span>
<span class="c1"># cmap = &#39;hot&#39;</span>
<span class="c1"># cmap = None</span>

<span class="n">extent</span> <span class="o">=</span> <span class="n">SA</span>
<span class="n">extent</span> <span class="o">=</span> <span class="bp">None</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">Sr</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;SAR raw data(Amplitude)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Range&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Azimuth&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">SI</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">Title</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Range&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Azimuth&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">SI</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Range/m&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Azimuth/m&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">Title</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="id9">
<h4>实验结果<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h4>
<p>观察实验结果可以发现, 场景中某一目标信息会分布在回波数据的不同位置, 如果仅选取目标附近子区域成像, 会使得信息丢失, 成像模糊.</p>
<div class="figure align-center" id="id12">
<span id="fig-radarsat1-subregion512-fulltime-usemaskfalse"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion512_FullTime_UseMaskFalse.svg"><img alt="../../../_images/RADARSAT1_SubRegion512_FullTime_UseMaskFalse.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion512_FullTime_UseMaskFalse.svg" width="6220.8" /></a>
<p class="caption"><span class="caption-number">图 9.20 </span><span class="caption-text">选取子区域大小 <span class="math">\(512\times 512\)</span>, 子区域外的数据做补零处理后进行成像.</span><a class="headerlink" href="#id12" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id13">
<span id="fig-radarsat1-subregion512-fulltime-usemasktrue"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion512_FullTime_UseMaskTrue.svg"><img alt="../../../_images/RADARSAT1_SubRegion512_FullTime_UseMaskTrue.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion512_FullTime_UseMaskTrue.svg" width="6182.400000000001" /></a>
<p class="caption"><span class="caption-number">图 9.21 </span><span class="caption-text">选取子区域大小 <span class="math">\(512\times 512\)</span>, 子区域外的数据做补零处理后进行成像, 成像后子区域外成像数据被置零且进行局部放大后显示.</span><a class="headerlink" href="#id13" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id14">
<span id="fig-radarsat1-subregion512-partltime"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion512_PartlTime.svg"><img alt="../../../_images/RADARSAT1_SubRegion512_PartlTime.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion512_PartlTime.svg" width="4787.2" /></a>
<p class="caption"><span class="caption-number">图 9.22 </span><span class="caption-text">选取子区域大小 <span class="math">\(512\times 512\)</span>, 仅选取的数据被用来成像.</span><a class="headerlink" href="#id14" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id15">
<span id="fig-radarsat1-subregion256-fulltime-usemaskfalse"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion256_FullTime_UseMaskFalse.svg"><img alt="../../../_images/RADARSAT1_SubRegion256_FullTime_UseMaskFalse.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion256_FullTime_UseMaskFalse.svg" width="6182.400000000001" /></a>
<p class="caption"><span class="caption-number">图 9.23 </span><span class="caption-text">选取子区域大小 <span class="math">\(256\times 256\)</span>, 子区域外的数据做补零处理后进行成像.</span><a class="headerlink" href="#id15" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id16">
<span id="fig-radarsat1-subregion256-fulltime-usemasktrue"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion256_FullTime_UseMaskTrue.svg"><img alt="../../../_images/RADARSAT1_SubRegion256_FullTime_UseMaskTrue.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion256_FullTime_UseMaskTrue.svg" width="6208.0" /></a>
<p class="caption"><span class="caption-number">图 9.24 </span><span class="caption-text">选取子区域大小 <span class="math">\(256\times 256\)</span>, 子区域外的数据做补零处理后进行成像, 成像后子区域外成像数据被置零且进行局部放大后显示.</span><a class="headerlink" href="#id16" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id17">
<span id="fig-radarsat1-subregion256-partltime"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion256_PartlTime.svg"><img alt="../../../_images/RADARSAT1_SubRegion256_PartlTime.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion256_PartlTime.svg" width="4761.6" /></a>
<p class="caption"><span class="caption-number">图 9.25 </span><span class="caption-text">选取子区域大小 <span class="math">\(256\times 256\)</span>, 仅选取的数据被用来成像.</span><a class="headerlink" href="#id17" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id18">
<span id="fig-radarsat1-subregion128-fulltime-usemaskfalse"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion128_FullTime_UseMaskFalse.svg"><img alt="../../../_images/RADARSAT1_SubRegion128_FullTime_UseMaskFalse.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion128_FullTime_UseMaskFalse.svg" width="6220.8" /></a>
<p class="caption"><span class="caption-number">图 9.26 </span><span class="caption-text">选取子区域大小 <span class="math">\(128\times 128\)</span>, 子区域外的数据做补零处理后进行成像.</span><a class="headerlink" href="#id18" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id19">
<span id="fig-radarsat1-subregion128-fulltime-usemasktrue"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion128_FullTime_UseMaskTrue.svg"><img alt="../../../_images/RADARSAT1_SubRegion128_FullTime_UseMaskTrue.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion128_FullTime_UseMaskTrue.svg" width="6195.200000000001" /></a>
<p class="caption"><span class="caption-number">图 9.27 </span><span class="caption-text">选取子区域大小 <span class="math">\(128\times 128\)</span>, 子区域外的数据做补零处理后进行成像, 成像后子区域外成像数据被置零且进行局部放大后显示.</span><a class="headerlink" href="#id19" title="永久链接至图片">¶</a></p>
</div>
<div class="figure align-center" id="id20">
<span id="fig-radarsat1-subregion128-partltime"></span><a class="reference internal image-reference" href="../../../_images/RADARSAT1_SubRegion128_PartlTime.svg"><img alt="../../../_images/RADARSAT1_SubRegion128_PartlTime.svg" height="9152.0" src="../../../_images/RADARSAT1_SubRegion128_PartlTime.svg" width="4761.6" /></a>
<p class="caption"><span class="caption-number">图 9.28 </span><span class="caption-text">选取子区域大小 <span class="math">\(128\times 128\)</span>, 仅选取的数据被用来成像.</span><a class="headerlink" href="#id20" title="永久链接至图片">¶</a></p>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../zreference.html" class="btn btn-neutral float-right" title="10. 参考文献" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="BasicExperiments.html" class="btn btn-neutral" title="9.1. 基础分析实验" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2019，刘志，西安电子科技大学，智能感知与图像理解教育部重点实验室.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Stanford-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/language_data.js"></script>
      <script type="text/javascript" src="../../../_static/proof.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script>
      <script type="text/javascript" src="../../../_static/katex_autorenderer.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>